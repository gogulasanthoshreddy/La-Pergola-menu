<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Pergola Menu</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .menu-section {
            margin-bottom: 20px;
        }
        .total-cost, .selected-items {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <h1>Select Your Menu Items</h1>

    <form id="menuForm">
        <!-- User Information Section -->
        <div class="menu-section">
            <h3>Your Information</h3>
            <label for="name">Name (required):</label><br>
            <input type="text" id="name" name="name" required><br><br>

            <label for="phone">Phone Number (required):</label><br>
            <input type="text" id="phone" name="phone" required><br><br>

            <label for="address">Address (optional):</label><br>
            <input type="text" id="address" name="address"><br><br>
        </div>

        <!-- Menu Sections -->
        <div class="menu-section">
            <h3>Pizzas</h3>
            <input type="checkbox" name="item" value="Margherita - €9.50"> Margherita - €9.50<br>
            <input type="checkbox" name="item" value="Pizza Funghi - €10.50"> Pizza Funghi - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Prosciutto - €10.50"> Pizza Prosciutto - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Salami - €10.50"> Pizza Salami - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Tonno - €10.50"> Pizza Tonno - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Kebappizza - €10.90"> Pizza Kebappizza - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Kolleger - €11.90"> Pizza Kolleger - €11.90<br>
            <input type="checkbox" name="item" value="Pizza Frutti di mare - €11.90"> Pizza Frutti di mare - €11.90<br>
            <input type="checkbox" name="item" value="Pizza Rucola - €10.50"> Pizza Rucola - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Hawaii - €10.50"> Pizza Hawaii - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Spinaci - €10.90"> Pizza Spinaci - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Palermo - €11.90"> Pizza Palermo - €11.90<br>
            <input type="checkbox" name="item" value="Pizza Vesiuvio - €10.90"> Pizza Vesiuvio - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Fresca - €10.50"> Pizza Fresca - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Naturale - €10.50"> Pizza Naturale - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Diavolo - €10.90"> Pizza Diavolo - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Mona Lisa - €10.90"> Pizza Mona Lisa - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Rustica - €10.50"> Pizza Rustica - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Bomba - €10.50"> Pizza Bomba - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Quattro Formaggi - €10.90"> Pizza Quattro Formaggi - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Quattro Stagioni - €10.50"> Pizza Quattro Stagioni - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Liebling - €10.50"> Pizza Liebling - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Capricciosa - €10.50"> Pizza Capricciosa - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Regina - €10.50"> Pizza Regina - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Mafiosi - €10.50"> Pizza Mafiosi - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Cardinale - €10.50"> Pizza Cardinale - €10.50<br>
            <input type="checkbox" name="item" value="Pizza al Capone - €10.90"> Pizza al Capone - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Feuerwerk - €10.90"> Pizza Feuerwerk - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Toscana - €10.90"> Pizza Toscana - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Siciliana - €10.90"> Pizza Siciliana - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Provinziale - €10.50"> Pizza Provinziale - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Mexico - €10.90"> Pizza Mexico - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Calzone - €10.50"> Pizza Calzone - €10.50<br>
            <input type="checkbox" name="item" value="Pizza Punjabi - €10.90"> Pizza Punjabi - €10.90<br>
            <input type="checkbox" name="item" value="Pizza Keni - €10.90"> Pizza Keni - €10.90<br>
            <input type="checkbox" name="item" value="Pizzabrot - €4.50"> Pizzabrot - €4.50<br>
            <input type="checkbox" name="item" value="2 Personen Pizza - €18.90"> 2 Personen Pizza - €18.90<br>
            <input type="checkbox" name="item" value="Party Pizza - €27.90"> Party Pizza - €27.90<br>
        </div>

        <div class="menu-section">
            <h3>Salads</h3>
            <input type="checkbox" name="item" value="Gemischter Salat klein - €5.90"> Gemischter Salat klein - €5.90<br>
            <input type="checkbox" name="item" value="Gemischter Salat groß - €7.50"> Gemischter Salat groß - €7.50<br>
            <input type="checkbox" name="item" value="Grüner Salat - €5.90"> Grüner Salat - €5.90<br>
            <input type="checkbox" name="item" value="Kartoffelsalat - €5.90"> Kartoffelsalat - €5.90<br>
            <input type="checkbox" name="item" value="Griechischer Salat mit Schafskäse - €7.50"> Griechischer Salat mit Schafskäse - €7.50<br>
            <input type="checkbox" name="item" value="Vogerlsalat - €5.90"> Vogerlsalat - €5.90<br>
            <input type="checkbox" name="item" value="Backhendlsalat - €7.50"> Backhendlsalat - €7.50<br>
            <input type="checkbox" name="item" value="Fitness Salat - €7.50"> Fitness Salat - €7.50<br>
        </div>

        <div class="menu-section">
            <h3>Soups</h3>
            <input type="checkbox" name="item" value="Tomatencremesuppe - €5.90"> Tomatencremesuppe - €5.90<br>
            <input type="checkbox" name="item" value="Knoblauchcremesuppe - €5.90"> Knoblauchcremesuppe - €5.90<br>
            <input type="checkbox" name="item" value="Fischsuppe - €7.50"> Fischsuppe - €7.50<br>
        </div>

        <div class="menu-section">
            <h3>Pastas</h3>
            <input type="checkbox" name="item" value="Lasagne al Forno XL - €10.90"> Lasagne al Forno XL - €10.90<br>
            <input type="checkbox" name="item" value="Pasta Piemontese - €10.90"> Pasta Piemontese - €10.90<br>
            <input type="checkbox" name="item" value="Gemüse Lasagne al Forno - €10.90"> Gemüse Lasagne al Forno - €10.90<br>
            <input type="checkbox" name="item" value="Puten Nudeln - €10.90"> Puten Nudeln - €10.90<br>
            <input type="checkbox" name="item" value="Spaghetti Carbonara - €11.90"> Spaghetti Carbonara - €11.90<br>
            <input type="checkbox" name="item" value="Spaghetti Bolognese - €11.90"> Spaghetti Bolognese - €11.90<br>
            <input type="checkbox" name="item" value="Penne all’ Primavera - €11.90"> Penne all’ Primavera - €11.90<br>
            <input type="checkbox" name="item" value="Penne all’ Arrabbiata - €10.90"> Penne all’ Arrabbiata - €10.90<br>
            <input type="checkbox" name="item" value="Penne Lachs - €12.90"> Penne Lachs - €12.90<br>
            <input type="checkbox" name="item" value="Tortellini all’ Panna - €12.00"> Tortellini all’ Panna - €12.00<br>
        </div>

        <div class="menu-section">
            <h3>Desserts</h3>
            <input type="checkbox" name="item" value="Marmelade Palatschinken - €3.90"> Marmelade Palatschinken - €3.90<br>
            <input type="checkbox" name="item" value="Schoko Palatschinken - €2.50"> Schoko Palatschinken - €2.50<br>
            <input type="checkbox" name="item" value="Nuss-Nougat Palatschinken - €1.90"> Nuss-Nougat Palatschinken - €1.90<br>
            <input type="checkbox" name="item" value="Apfelstrudel - €2.00"> Apfelstrudel - €2.00<br>
            <input type="checkbox" name="item" value="Tiramisu - €3.50"> Tiramisu - €3.50<br>
            <input type="checkbox" name="item" value="Erdbeer-Tiramisu - €2.80"> Erdbeer-Tiramisu - €2.80<br>
            <input type="checkbox" name="item" value="Profiteroles - €5.50"> Profiteroles - €5.50<br>
            <input type="checkbox" name="item" value="Gemischtes Eis - €5.50"> Gemischtes Eis - €5.50<br>
            <input type="checkbox" name="item" value="Mohr im Hemd - €5.50"> Mohr im Hemd - €5.50<br>
        </div>

        <div class="menu-section">
            <h3>Burgers</h3>
            <input type="checkbox" name="item" value="Hamburger - €10.90"> Hamburger - €10.90<br>
            <input type="checkbox" name="item" value="Cheeseburger - €10.90"> Cheeseburger - €10.90<br>
            <input type="checkbox" name="item" value="Speckburger - €11.90"> Speckburger - €11.90<br>
            <input type="checkbox" name="item" value="Fazi Burger - €11.90"> Fazi Burger - €11.90<br>
            <input type="checkbox" name="item" value="Double Cheeseburger - €14.90"> Double Cheeseburger - €14.90<br>
            <input type="checkbox" name="item" value="Crispy Chicken Burger - €10.90"> Crispy Chicken Burger - €10.90<br>
            <input type="checkbox" name="item" value="Vegini Burger - €10.90"> Vegini Burger - €10.90<br>
        </div>

        <div class="menu-section">
            <h3>Drinks</h3>
            <input type="checkbox" name="item" value="Coca Cola 1l - €3.90"> Coca Cola 1l - €3.90<br>
            <input type="checkbox" name="item" value="Getränke 0,5l - €2.50"> Getränke 0,5l - €2.50<br>
            <input type="checkbox" name="item" value="Pepsi 0,33l - €1.90"> Pepsi 0,33l - €1.90<br>
            <input type="checkbox" name="item" value="Mineralwasser 0,5l - €2.00"> Mineralwasser 0,5l - €2.00<br>
            <input type="checkbox" name="item" value="Red Bull 0,25l - €3.50"> Red Bull 0,25l - €3.50<br>
            <input type="checkbox" name="item" value="Bier Dose 0,5l - €2.80"> Bier Dose 0,5l - €2.80<br>
            <input type="checkbox" name="item" value="Eistee 1,5l - €4.90"> Eistee 1,5l - €4.90<br>
            <input type="checkbox" name="item" value="Flasche Wein rot/weiß 0,75l - €9.90"> Flasche Wein rot/weiß 0,75l - €9.90<br>
        </div>

        <div class="menu-section">
            <h3>Additional Dishes</h3>
            <input type="checkbox" name="item" value="Kaiserschmarren - €9.90"> Kaiserschmarren - €9.90<br>
            <input type="checkbox" name="item" value="Pommes - €4.90"> Pommes - €4.90<br>
            <input type="checkbox" name="item" value="Reis Basmati - €4.90"> Reis Basmati - €4.90<br>
            <input type="checkbox" name="item" value="Petersilienkartoffel - €4.90"> Petersilienkartoffel - €4.90<br>
            <input type="checkbox" name="item" value="Wedges - €4.90"> Wedges - €4.90<br>
            <input type="checkbox" name="item" value="Bratkartoffel - €4.90"> Bratkartoffel - €4.90<br>
            <input type="checkbox" name="item" value="Süßkartoffel - €5.90"> Süßkartoffel - €5.90<br>
        </div>

        <input type="button" value="Calculate Total & Download PDF" onclick="calculateTotal()">
        <input type="button" value="View Order" onclick="viewOrder()">
    </form>

    <div class="total-cost" id="totalCost"></div>
    <div class="selected-items" id="selectedItems"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
        function calculateTotal() {
            // Check if the required fields are filled
            var name = document.getElementById("name").value;
            var phone = document.getElementById("phone").value;
            var address = document.getElementById("address").value;

            if (!name || !phone) {
                alert("Please fill in your name and phone number.");
                return; // Stop further processing if required fields are not filled
            }

            var form = document.getElementById("menuForm");
            var selectedItems = [];
            var totalCost = 0;

            var items = form.querySelectorAll('input[name="item"]:checked');
            items.forEach(function(item) {
                selectedItems.push(item.value);
                var price = parseFloat(item.value.match(/€([0-9]+\.[0-9]{2})/)[1].replace(',', '.'));
                totalCost += price;
            });

            // Display the results
            document.getElementById("totalCost").innerText = "Total Cost: €" + totalCost.toFixed(2);
            document.getElementById("selectedItems").innerText = "Selected Items: " + selectedItems.join(", ");

            // Create PDF
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            doc.setFontSize(16);
            doc.text("Customer Details", 10, 10);
            doc.setFontSize(12);
            doc.text(`Name: ${name}`, 10, 20);
            doc.text(`Phone: ${phone}`, 10, 30);
            if (address) {
                doc.text(`Address: ${address}`, 10, 40);
            }
            doc.text(" ", 10, 50);

            doc.setFontSize(16);
            doc.text("Selected Items", 10, 60);
            doc.setFontSize(12);
            selectedItems.forEach((item, index) => {
                doc.text(`${item}`, 10, 70 + (index * 10));
            });
            doc.text(" ", 10, 80 + (selectedItems.length * 10));
            
            doc.setFontSize(16);
            doc.text(`Total Cost: €${totalCost.toFixed(2)}`, 10, 90 + (selectedItems.length * 10));

            // Open the PDF in a new window and print
            window.open(doc.output('bloburl'), '_blank').print();
        }

        function viewOrder() {
            // Check if the required fields are filled
            var name = document.getElementById("name").value;
            var phone = document.getElementById("phone").value;
            var address = document.getElementById("address").value;

            if (!name || !phone) {
                alert("Please fill in your name and phone number.");
                return; // Stop further processing if required fields are not filled
            }

            var form = document.getElementById("menuForm");
            var selectedItems = [];
            var totalCost = 0;

            var items = form.querySelectorAll('input[name="item"]:checked');
            items.forEach(function(item) {
                selectedItems.push(item.value);
                var price = parseFloat(item.value.match(/€([0-9]+\.[0-9]{2})/)[1].replace(',', '.'));
                totalCost += price;
            });

            // Display the results in an alert box
            let orderDetails = `Name: ${name}\nPhone: ${phone}\n`;
            if (address) {
                orderDetails += `Address: ${address}\n`;
            }
            orderDetails += "\nSelected Items:\n" + selectedItems.join("\n");
            orderDetails += `\n\nTotal Cost: €${totalCost.toFixed(2)}`;
            alert(orderDetails);
        }
    </script>

</body>
</html>
